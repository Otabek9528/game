<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pochta Yuborish</title>
  <link rel="stylesheet" href="../../css/style.css" />
  <link rel="stylesheet" href="parcel.css" />
</head>
<body>

  <!-- HEADER -->
  <header class="app__header">
    <a href="../../index.html" class="header-content" style="text-decoration: none; color: inherit;">
      <img src="../../assets/emblem.jpg" alt="Bot Emblem" class="bot-logo" />
      <h1>Muslim Vegukin Bot</h1>
    </a>
  </header>

  <!-- PARCEL CONTAINER -->
  <div class="parcel-container">
    
    <!-- Hero Section -->
    <div class="parcel-hero">
      <div class="hero-icon">ğŸ“¦</div>
      <h2 class="hero-title">Pochta Yuborish</h2>
      <p class="hero-subtitle">Kuryer topib, pochtangizni yetkazing</p>
    </div>

    <!-- Search Method Section (Main View) -->
    <div class="search-methods" id="searchMethods">
      
      <p class="methods-hint">Qidiruv usulini tanlang:</p>
      
      <!-- Search Buttons -->
      <div class="method-buttons">
        <button class="method-btn date-btn" id="searchByDateBtn">
          <span class="method-icon">ğŸ“…</span>
          <div class="method-info">
            <span class="method-title">Sana bo'yicha</span>
            <span class="method-desc">Uchish sanasi asosida izlash</span>
          </div>
          <span class="method-arrow">â†’</span>
        </button>
        
        <button class="method-btn city-btn" id="searchByCityBtn">
          <span class="method-icon">ğŸ™</span>
          <div class="method-info">
            <span class="method-title">Shahar bo'yicha</span>
            <span class="method-desc">Manzil asosida izlash</span>
          </div>
          <span class="method-arrow">â†’</span>
        </button>
      </div>

      <!-- Info Card -->
      <div class="info-card">
        <div class="info-header">
          <span class="info-icon">ğŸ’¡</span>
          <span class="info-title">Qanday ishlaydi?</span>
        </div>
        <ul class="info-list">
          <li>
            <span class="step-num">1</span>
            <span>Sana yoki shahar bo'yicha kuryerlarni toping</span>
          </li>
          <li>
            <span class="step-num">2</span>
            <span>E'lonni ko'rib chiqing va kuryer bilan bog'laning</span>
          </li>
          <li>
            <span class="step-num">3</span>
            <span>Pochtangizni xavfsiz yetkazing!</span>
          </li>
        </ul>
      </div>
    </div>

    <!-- Dates List Section (Hidden by default) -->
    <div class="list-section" id="datesSection" style="display: none;">
      <div class="section-header">
        <button class="back-btn" id="datesBackBtn">
          <span>â†</span>
          <span>Orqaga</span>
        </button>
        <h3 class="section-heading">ğŸ“… Sanani tanlang</h3>
      </div>
      
      <div class="dates-list" id="datesList">
        <!-- Dates will be populated by JS -->
      </div>

      <div class="loading-indicator" id="datesLoading" style="display: none;">
        <div class="spinner"></div>
        <p>Yuklanmoqda...</p>
      </div>

      <div class="empty-state" id="datesEmpty" style="display: none;">
        <span class="empty-icon">ğŸ“­</span>
        <p>Hozircha e'lonlar mavjud emas</p>
      </div>
    </div>

    <!-- Cities List Section with Tabs (Hidden by default) -->
    <div class="list-section" id="citiesSection" style="display: none;">
      <div class="section-header">
        <button class="back-btn" id="citiesBackBtn">
          <span>â†</span>
          <span>Orqaga</span>
        </button>
        <h3 class="section-heading">ğŸ™ Shaharni tanlang</h3>
      </div>
      
      <!-- Country Tabs -->
      <div class="country-tabs">
        <button class="country-tab active" id="tabUzb" data-country="uzb">
          <span>ğŸ‡ºğŸ‡¿</span>
          <span>O'zbekiston</span>
        </button>
        <button class="country-tab" id="tabKor" data-country="kor">
          <span>ğŸ‡°ğŸ‡·</span>
          <span>Koreya</span>
        </button>
      </div>
      
      <div class="cities-list" id="citiesList">
        <!-- Cities will be populated by JS -->
      </div>

      <div class="loading-indicator" id="citiesLoading" style="display: none;">
        <div class="spinner"></div>
        <p>Yuklanmoqda...</p>
      </div>

      <div class="empty-state" id="citiesEmpty" style="display: none;">
        <span class="empty-icon">ğŸ™</span>
        <p>Shaharlar topilmadi</p>
      </div>
    </div>

    <!-- Posts Section (Hidden by default) -->
    <div class="list-section" id="postsSection" style="display: none;">
      <div class="section-header">
        <button class="back-btn" id="postsBackBtn">
          <span>â†</span>
          <span>Orqaga</span>
        </button>
        <h3 class="section-heading" id="postsHeading">ğŸ“‹ E'lonlar</h3>
      </div>
      
      <div class="posts-list" id="postsList">
        <!-- Posts will be populated by JS -->
      </div>

      <div class="loading-indicator" id="postsLoading" style="display: none;">
        <div class="spinner"></div>
        <p>Yuklanmoqda...</p>
      </div>

      <div class="empty-state" id="postsEmpty" style="display: none;">
        <span class="empty-icon">ğŸ“­</span>
        <p>E'lonlar topilmadi</p>
      </div>
    </div>

  </div>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="../../js/apiConfig.js"></script>
  <script src="parcel.js"></script>

</body>
</html>